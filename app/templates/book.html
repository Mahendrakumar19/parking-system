{% extends "base.html" %}

{% block title %}Book Parking - University Parking Portal{% endblock %}

{% block content %}
<div class="booking-container">
    <h2>Book Parking Slot</h2>
    
    {% if error %}
    <div class="error-message">{{ error }}</div>
    {% endif %}
    
    <form method="POST" class="booking-form" id="bookingForm">
        <div class="form-row">
            <div class="form-group">
                <label for="vehicle_type">Vehicle Type:</label>
                <select id="vehicle_type" name="vehicle_type" required onchange="updatePricing()">
                    <option value="">Select Vehicle Type</option>
                    <option value="bike">Bike (₹20/hour)</option>
                    <option value="car">Car (₹30/hour)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="vehicle_number">Vehicle Number:</label>
                <input type="text" id="vehicle_number" name="vehicle_number" required placeholder="e.g., MH12AB1234">
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="entry_time">Entry Time:</label>
                <input type="datetime-local" id="entry_time" name="entry_time" required onchange="checkAvailability()">
            </div>
            
            <div class="form-group">
                <label for="exit_time">Exit Time:</label>
                <input type="datetime-local" id="exit_time" name="exit_time" required onchange="checkAvailability()">
            </div>
        </div>
        
        <div class="availability-info" id="availabilityInfo" style="display: none;">
            <p>Available Slots: <span id="availableSlots">-</span></p>
            <p>Duration: <span id="duration">-</span> hours</p>
            <p>Amount: ₹<span id="amount">-</span></p>
        </div>
        
        <button type="submit" class="btn btn-primary" id="submitBtn" disabled>Book Slot</button>
    </form>
</div>

<script src="{{ url_for('static', filename='js/booking.js') }}"></script>
{% endblock %}